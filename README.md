# ® reviewer-reviewee-frontend v1.0.0

코드 리뷰를 통해 개발자들은 성장하고 새로운 것을 더 알아가기를 원합니다. 하지만 코드 리뷰를 해주는 사람을 찾기는 쉽지 않은 게 현실입니다. 코드 리뷰를 진행해 줄 리뷰이 와 리뷰어를 연결해 주면 좋겠다는 생각 프로젝트를 시작했습니다.

## 🖥 Frontend Team

<table>
  <tbody>
    <tr>
      <td align="center"><a href="https://github.com/DT-KUKU"><img src="https://avatars.githubusercontent.com/u/107905739?v=4" width="100px;" alt=""/><br /><sub><b>
신경호</b></sub></a><br /></td>
    <td align="center"><a href="https://github.com/leeuihyun"><img src="https://avatars.githubusercontent.com/u/88185154?v=4" width="100px;" alt=""/>
    <br /><sub><b>
    이의현</b></sub></a><br /></td>
  </tbody>
</table>

## 🛠 Stack

**Frontend**

<p align="center">
<img src="https://img.shields.io/badge/Next.js-000000?style=for-the-badge&logo=Next.js&logoColor=white">
<img src="https://img.shields.io/badge/Typescript-3178C6?style=for-the-badge&logo=Typescript&logoColor=black">
<img src="https://img.shields.io/badge/Tailwind CSS-06B6D4?style=for-the-badge&logo=Tailwind CSS&logoColor=black">
<img src="https://img.shields.io/badge/reactquery-FF4154?style=for-the-badge&logo=reactquery&logoColor=black">
<img src="https://img.shields.io/badge/recoil-83B81A?style=for-the-badge&logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIwLjQzZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMjU2IDU5NiI+PHBhdGggZmlsbD0iIzFDMUUyMSIgZD0iTTEyOC4wMTEgMGMyNy44MjIgMCA1MC4zNTcgMjIuNTM1IDUwLjM1NyA1MC4zNTdjMCAyMC43NC0xMi41NjUgMzguNTY0LTMwLjUxNCA0Ni4yOTNsLS41NDYuMjMxdjIxLjIxM2MwIDIwLjQ3OCAxNS4yMjEgMzcuOTEyIDM1LjQ2OCA0MC43NmwuNjE1LjA4MWw2LjA4Ljc5M2MzMi45MSA0LjE2MyA1OC40MTkgMjcuODIyIDY0Ljk2MSA2MC4zMzZjNi41NDMgMzIuNTE0LTcuNzMyIDY0LjIzNS0zNi40NzkgODAuODg4Yy0xMi44NyA3LjQxLTI2Ljg5MSAxMS45NDMtNDEuNjg2IDEzLjQ3NGwtLjc0LjA3NGwtOTEuMzk2IDguNTljLTkuMzE4Ljg2LTE4LjEwOCAzLjcwMS0yNi4yMzYgOC4zOTRjLTE2LjU4OCA5LjU4Mi0xOS44MjYgMjYuMTctMTcuMzE1IDM4LjQ2MWMyLjQ4NyAxMi4xNyAxMS43NzQgMjYuMDIyIDMwLjM2MiAyOC42MDZsNi42NDYuODY4YzQwLjA0IDQuOTcyIDcwLjMgMzguODk3IDcwLjkgNzkuMTM4bC4wMSAxLjIyMnYxOS42OTNjMTcuNjQ0IDcuNzk4IDMwLjAwMiAyNS41MSAzMC4wMDIgNDYuMDYyYzAgMjcuODIxLTIyLjUzNSA1MC4zNTctNTAuMzU3IDUwLjM1N2MtMjcuODIxIDAtNTAuMzU3LTIyLjUzNi01MC4zNTctNTAuMzU3YzAtMjAuNjc0IDEyLjUwMS0zOC40OTkgMzAuMzg1LTQ2LjIyN2wuNTQzLS4yMzF2LTE5LjI5N2MwLTIwLjQ3OC0xNS4yMi0zNy45MTItMzUuNDY3LTQwLjc2bC0uNjE1LS4wOGwtNi4wOC0uNzk0Yy0zMi45MS00LjE2My01OC40Mi0yNy44MjItNjQuOTYyLTYwLjMzNmMtNi42MDgtMzIuNTE0IDcuNzMyLTY0LjIzNSAzNi40OC04MC44ODhjMTIuODctNy40MSAyNi44OS0xMS45NDMgNDEuNjg2LTEzLjQ3NGwuNzQtLjA3NGw5MS4zOTYtOC41OWM5LjMxOC0uODYgMTguMTA3LTMuNzAxIDI2LjIzNi04LjM5M2MxNi41ODctOS41ODMgMTkuODI1LTI2LjE3IDE3LjMxNC0zOC40NjJjLTIuNDg2LTEyLjE2OS0xMS43NzMtMjYuMDIyLTMwLjM2Mi0yOC42MDZsLTYuNjQ2LS44NjhjLTQwLjA0LTQuOTcyLTcwLjI5OS0zOC44OTctNzAuOS03OS4xMzhsLS4wMS0xLjIyMlY5Ni4zNTJjLTE3LjU3OC03Ljg2NC0yOS44Ny0yNS41MDktMjkuODctNDUuOTk1Qzc3LjY1NCAyMi41MzUgMTAwLjE5IDAgMTI4LjAxMSAwWm02MC41MzQgMzM2Ljk2OWwyOC4yMTkgMzAuOTI3YzIxIDIzLjA5NSAzMi42NzUgNTIuODYxIDMyLjkwNyA4My45NzdsLjAwMy45NDNoLTM5Ljg1YzAtMjEuMzI4LTcuODM2LTQxLjc1LTIyLjAzNi01Ny42MWwtLjQzMi0uNDc5bC00Ny45NzgtNTIuNjA0bDM4LjMzLTMuNjM0bDEuMjEtLjEzNWMyLjg3Mi0uMzI2IDUuNzM5LS43MDMgOC41NjgtMS4xOTVsMS4wNi0uMTlaTTQyLjY5NSAxNDMuNTM3YzAgMjEuMzI4IDcuODM3IDQxLjc1IDIyLjAzNyA1Ny42MWwuNDMyLjQ3OWw0OC4xMSA1Mi43MzZsLTM1LjQyMSAzLjM3bC0xLjA1My4wOTdjLTMuODU3LjM3LTcuNzA4LjkyOS0xMS40NyAxLjY3N2wtMS4wMjUuMjA5bC0yOC40ODMtMzEuMjU4Yy0yMS0yMy4wMy0zMi42NzUtNTIuODYtMzIuOTA3LTgzLjk3N2wtLjAwMy0uOTQzaDM5Ljc4M1oiLz48L3N2Zz4=&logoColor=white">
<img src="https://img.shields.io/badge/eslint-4700A3?style=for-the-badge&logo=eslint&logoColor=white">
<img src="https://img.shields.io/badge/prettier-F7B93E?style=for-the-badge&logo=prettier&logoColor=white">
<img src="https://img.shields.io/badge/axios-5A29E4?style=for-the-badge&logo=axios&logoColor=white">
<img src="https://img.shields.io/badge/msw-FF7751?style=for-the-badge&logo=data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTIyIDEyMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgaGVpZ2h0PSI0OCIgZmlsbD0iI2ZmZiI+PHRpdGxlPm1zdy1sb2dvPC90aXRsZT48ZyBpZD0ibXN3LWxvZ28iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ0LjI5NzQyNywgLTQ3LjU3NDU3NikiIHN0cm9rZS13aWR0aD0iMjEiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNy4yOTc0MjcsIDEwOC4wNzQ1NzYpIHJvdGF0ZSgtNDIuMDAwMDAwKSB0cmFuc2xhdGUoLTEwNy4yOTc0MjcsIC0xMDguMDc0NTc2KSB0cmFuc2xhdGUoMzYuMjk3NDI3LCAyNi41NzQ1NzYpIj48cGF0aCBkPSJNNzUuMTM5NjY2Niw0Ni42NjgzMjUgQzc4LjYwMjQ5MTksNDYuNjY4MzI1IDgxLjczNzQ5MTksNDguMDcxOTEyNCA4NC4wMDY3ODU2LDUwLjM0MTIwNiBDODYuMjc2MDc5Myw1Mi42MTA0OTk3IDg3LjY3OTY2NjYsNTUuNzQ1NDk5NyA4Ny42Nzk2NjY2LDU5LjIwODMyNSBDODcuNjc5NjY2Niw2Mi4zMDM2NzE2IDg2LjUzNDg1Miw2NS4yODk2NTA1IDg0LjQ2NTUzNTYsNjcuNTkxNjI3OSBMODQuNDY1NTM1Niw2Ny41OTE2Mjc5IEw0OC4yMzIwNjQ4LDEwNy44OTg5NjMgQzQ3LjUxMjA5MzQsMTA4LjY5OTg4NCA0Ni41MzU2NDQ0LDEwOS4xMzMxNTUgNDUuNTM4OTU4MSwxMDkuMTg2MjA0IEM0NC41NDIyNzE4LDEwOS4yMzkyNTIgNDMuNTI1MzQ4MiwxMDguOTEyMDc3IDQyLjcyNDQyNzYsMTA4LjE5MjEwNiBMNDIuNzI0NDI3NiwxMDguMTkyMTA2IEw2LjE5NzgxNDM1LDY3LjU5MTYyNzkgQzMuODgyODI5MTgsNjUuMDE2MzYwMyAyLjgzMDgzNjksNjEuNzQ2NTU5OSAzLjAwMTQwNzgxLDU4LjU0MTgzMDIgQzMuMTcxOTc4NzMsNTUuMzM3MTAwNCA0LjU2NTExMjg0LDUyLjE5NzQ0MTIgNy4xNDAzODA0Niw0OS44ODI0NTYgQzkuNDQyMzU3ODcsNDcuODEzMTM5NiAxMi40MjgzMzY4LDQ2LjY2ODMyNSAxNS41MjM2ODMzLDQ2LjY2ODMyNSBMMTUuNTIzNjgzMyw0Ni42NjgzMjUgWiIgaWQ9ImJhY2siIHN0cm9rZT0iIzdBMTgxOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDUuMzMxNjc1LCA4MS41MDAwMDApIHJvdGF0ZSg5MC4wMDAwMDApIHRyYW5zbGF0ZSgtNDUuMzMxNjc1LCAtODEuNTAwMDAwKSAiPjwvcGF0aD48cGF0aCBkPSJNMTQ1Ljg2MDgyLDQ2LjY2ODMyNSBDMTQ2LjkzNzc3NSw0Ni42NjgzMjUgMTQ3LjkxMjc3NSw0Ny4xMDQ4NDc0IDE0OC42MTg1MzYsNDcuODEwNjA4NiBDMTQ5LjMyNDI5Nyw0OC41MTYzNjk4IDE0OS43NjA4Miw0OS40OTEzNjk4IDE0OS43NjA4Miw1MC41NjgzMjUgQzE0OS43NjA4Miw1MS41MzA5OTI2IDE0OS40MDQ3NzcsNTIuNDU5NjQ2NCAxNDguNzYxMjEsNTMuMTc1NTcyNCBMMTQ4Ljc2MTIxLDUzLjE3NTU3MjQgTDk5LjU2ODcxNDksMTA3Ljg5ODk2MyBDOTguODQ4NzQzNSwxMDguNjk5ODg0IDk3Ljg3MjI5NDQsMTA5LjEzMzE1NSA5Ni44NzU2MDgxLDEwOS4xODYyMDQgQzk1Ljg3ODkyMTgsMTA5LjIzOTI1MiA5NC44NjE5OTgzLDEwOC45MTIwNzcgOTQuMDYxMDc3NywxMDguMTkyMTA2IEw5NC4wNjEwNzc3LDEwOC4xOTIxMDYgTDQ0LjU3NTQ0MDQsNTMuMTc1NTcyNCBDNDMuODU1NDY4OSw1Mi4zNzQ2NTE4IDQzLjUyODI5NDMsNTEuMzU3NzI4MiA0My41ODEzNDI3LDUwLjM2MTA0MTkgQzQzLjYzNDM5MSw0OS4zNjQzNTU2IDQ0LjA2NzY2MjQsNDguMzg3OTA2NiA0NC44Njg1ODMsNDcuNjY3OTM1MiBDNDUuNTg0NTA5LDQ3LjAyNDM2NzkgNDYuNTEzMTYyNyw0Ni42NjgzMjUgNDcuNDc1ODMwMyw0Ni42NjgzMjUgTDQ3LjQ3NTgzMDMsNDYuNjY4MzI1IFoiIGlkPSJmcm9udCIgc3Ryb2tlPSIjRkY2QTMzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5Ni42NjgzMjUsIDgxLjUwMDAwMCkgcm90YXRlKC05MC4wMDAwMDApIHRyYW5zbGF0ZSgtOTYuNjY4MzI1LCAtODEuNTAwMDAwKSAiPjwvcGF0aD48L2c+PC9nPjwvZz48L3N2Zz4=&logoColor=white">
</p>

**Cloud**

<img src="https://img.shields.io/badge/amazonec2-FF9900?style=for-the-badge&logo=amazonec2&logoColor=white">

**CI**

<img src="https://img.shields.io/badge/githubactions-2088FF?style=for-the-badge&logo=githubactions&logoColor=white">

**Others**

<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/discord-5865F2?style=for-the-badge&logo=discord&logoColor=white">
<img src="https://img.shields.io/badge/figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white">

---

**❓ Why choose a skill?**

**TypeScript**

- JavaScript를 사용하는 것보다 TypeScript를 사용하는 것이 오류 발생 확률을 15%를 줄여준다고 합니다. TypeScript를 사용함으로써 타입을 통한 가독성을 높이고 휴먼에러를 최소한으로 줄여 안전성과 효율성을 높이기 위해 선택했습니다.

- 백엔드 데이터 모델과의 타입을 일치시키기 위해 선택했습니다.

**NextJS**

- React는 동적으로 페이지가 렌더링되기 때문에 초기 로드 시 검색 엔진 크롤러가 인식하지 못한다는 단점을 가지고 있습니다. SEO를 충족시키고 초기 렌더링이 빠른 특성을 이용해 사용자 경험을 향상시키고자 NextJS를 선택했습니다.

**ReactQuery**

- 클라이언트와 서버의 데이터를 분리하기 위함이였습니다. 기존에 서버 데이터를 상태관리로 관리하는 것은 적합하지 않았습니다. 클라이언트 와 서버의 데이터를 분리함으로써 관심사 분리를 할 수 있기에 선택했습니다.

- 캐싱처리로 API 콜을 줄이기 위함이였습니다. ReactQuery는 데이터를 캐싱하여 중복 요청을 줄이기 때문에, 서버와의 상호작용을 줄일 수 있습니다. 이를 통해 서버 측 부하를 줄이고 애플리케이션 성능을 향상시킬 수 있기 때문에 선택했습니다.

**Recoil**

- 상태관리를 정할 때 redux 와 recoil 중 어떤걸 선택할지 고민을 했습니다. 회의를 하면서 전역 상태관리로서 관리할 데이터가 별로 없다고 판단해서 recoil을 선택하게 됬습니다. redux는 작은 기능이라도 Boilerplate code가 많지만 recoil 같은 경우에는 redux와 동작 방식은 비슷하지만 Boilerplate code가 적고 간단해서 선택했습니다.

**TailWind**

- CSS에 대한 코드량을 줄이고 생산성을 높이기 위해 선택했습니다.

**MSW**

- 프론트엔드 개발은 백엔드 API와의 의존성이 있는 영역입니다. 백엔드 API 개발여부에 관한 의존성을 낮추고 완성되지 않는 상태라도 개발을 진행하기 위해서 MSW 라이브러리를 선택했습니다.

---

**🖱 Login strategy**

로그인은 깃허브 소셜 로그인만 가능하도록 되어 있으며 인증은 <b> JWT 토큰</b>을 사용했습니다.
토큰 정보는 세션 스토리지에 저장하고 관리하며 axios 인스턴스를 사용했으며 엑세스 토큰과 리프레시 토큰 로직을 <b>interceptors</b>를 사용해서 통합적으로 관리했습니다.

```javascript
const instance: AxiosInstance = axios.create({
  baseURL: 'http://localhost:3000',
  headers: {
    'Content-Type': 'application/json',
  },
  withCredentials: false,
  timeout: 30000,
});

instance.interceptors.request.use(
  (config) => {
    const accessToken = sessionStorage.getItem('accessToken');
    if (accessToken) {
      config.headers.Authorization = `Bearer ${accessToken}`;
    }
    return config;
  },
  (error) => {
    return Promise.reject(error);
  },
);

instance.interceptors.response.use(
  (response) => response,
  async (error: AxiosError) => {
    if (error.response?.status === 401) {
      try {
        deleteAccessTokenInStorage();
        const refreshToken = getRefreshTokenInStorage();
        const refreshResponse = await axios.post(
          `${process.env.NEXT_PUBLIC_BACK_API}/auth/refresh`,
          {
            withCredentials: true,
          },
          {
            headers: { Authorization: `Bearer ${refreshToken}` },
          },
        );
        setAccessTokenInStorage(refreshResponse.data.accessToken);
        setRefreshTokenInStorage(refreshResponse.data.refreshToken);
        const config = error.config;
        if (!config) {
          return Promise.reject(error);
        }

        return instance.request(config);
      } catch (err) {
        deleteRefreshTokenInStorage();
        window.location.href = '/induceLogin';
      }
    } else {
      return Promise.reject(error);
    }
  },
);
```

⌨ Quill Editor 적용

유저가 리뷰어에게 리뷰를 신청할 때 사용자 경험을 향상시키기 위해 Quill Editor라이브러리를 사용해서 구현했습니다. 통합적인 form 관리를 위해 <b>react hook form</b>라이브러리를 접목해서 사용했으며 DOM API를 사용해 글자수 제한 처리를 구현했습니다.

```javascript
const editorRef = useRef < ReactQuill > null;

function ReviewEditor({ setError, setValue, getValue, trigger, editorRef }: IRegisterType) {
  const modules = useMemo(() => editorModule, []);

  const editorContentChange = (content: string) => {
    if (editorRef.current) {
      const getLength = editorRef.current.unprivilegedEditor?.getText().length;

      if (getLength && getLength - 1 <= EDITORMAX) {
        if (content === '<p><br></p>') {
          setValue('content', '');
        } else {
          setValue('content', content);
        }
      }
    }
    trigger('content');
  };

  const editorBlurHandler = (e: ReactQuill.Range) => {
    if (!e?.index) {
      setError('content', { type: 'required', message: '필수 사항입니다.' });
    }
  };

  const editorContentLength = (content: number) => {
    return content > EDITORMAX ? EDITORMAX : content;
  };

  return (
    <div>
      <QuillEditor
        forwardedRef={editorRef}
        value={getValue('content')}
        onChange={(e) => editorContentChange(e)}
        placeholder="리뷰 받고싶은 내용을 입력해주세요. 최대 500글자까지 작성 가능합니다."
        modules={modules}
        formats={formats}
        theme="snow"
        onBlur={editorBlurHandler}
      />
      <p className="flex justify-end w-full pr-3">
        {editorRef.current && editorRef.current.unprivilegedEditor
          ? editorContentLength(editorRef.current.unprivilegedEditor.getText().length - 1)
          : 0}
        / {EDITORMAX} 자
      </p>
    </div>
  );
}
```

**Branch Convention**

- branch 생성은 다음과 같은 규칙을 따른다.
  <br/> ex) BranchName: "feature/{#issue_num}"

- 스프린트 주기에는 main이 아닌 develop 브랜치에 개발한다.

- 배포시점엔 develop에서 main으로 일반 머지를 진행한다.

- 매번 코드리뷰를 진행하며 코드리뷰가 완료되면 develop branch에 스쿼시 머지를 진행한다.

**Commit Convention**

커밋 컨벤션은 "type: 설명" 형식으로 한다. type은 아래와 같다.

- feat: 새로운 기능 추가
- fix: 버그 수정
- docs: 문서 관련
- style: 스타일 변경 (포매팅 수정, 들여쓰기 추가 등)
- refactor: 코드 리팩터링
- test: 테스트 관련 코드
- build: 빌드 관련 파일 수정
- ci: ci 설정 파일 수정
- chore: 위에 해당하지 않는 애매하거나 자잘한 수정

<!-- **동작 화면**

|                                    메인페이지                                    |                                    마이페이지                                    |
| :------------------------------------------------------------------------------: | :------------------------------------------------------------------------------: |
| ![꽃](https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510__340.jpg) | ![꽃](https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510__340.jpg) |

<br> -->
